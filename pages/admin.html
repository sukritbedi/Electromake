  <!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../css/admin.css">
    <script type="text/javascript" src="../js/admin.js">

    </script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.js"></script>
    <script src="../js/angular_admin.js"></script>

    <title></title>
  </head>
  <body ng-app="myApp" >
    <div class="container-fluid">
      <div class="col-md-3">
        <div class="logo">
          <h1>ISA Electromake</h1>
          <h2>Admin Page</h2>
        </div>
        <div class="teamName" id="teams" ng-controller="GetUsers">
          <h4><b><u>User ID's</u></b></h4>
          <li ng-repeat="user in users" ng-click="teamview(user.user_id,user.user_pass,user.team_name,user.money,user.team_members,user.phone_num)">
            {{user.user_id}}
          </li>
        </div>
      </div>

      <div class="col-md-9">
        <button type="button" class="btn btn-success btn-lg buttonAdmin" data-toggle="modal" data-target="#addTeamModal">Add Team</button>
        <button type="button" class="btn btn-primary btn-lg buttonAdmin" data-toggle="modal" data-target="#updateTeamModal">Update Team</button><br>
        <button type="button" class="btn btn-danger btn-lg buttonAdmin" data-toggle="modal" data-target="#removeTeamModal">Remove Team</button>
        <div class="dropdown" style="top: 64px; left: 113px;">
          <button class="btn dropbtn buttonAdmin btn-lg">Components</button>
          <div class="dropdown-content">
            <span data-toggle="modal" data-target="#viewCompModal">View Components</span>
            <span data-toggle="modal" data-target="#addCompModal">Add Components</span>
            <span data-toggle="modal" data-target="#updateCompModal">Update Components</span>
            <span data-toggle="modal" data-target="#remCompModal">Remove Components</span>
          </div>
        </div><br>
        <button type="button" class="btn btn-warning btn-lg buttonAdmin" data-toggle="modal" data-target="#changePassword">Change Password</button>
        <span ng-click=teamview(user.user_id)>{{ user.team_name }}</span>
        <br><br><br><br><p>&copy;     All rights reserved by International Society of Automation - VIT Vellore Student Section</p>
      </div>
    </div>

    <div class="modal fade" id="addTeamModal" role="dialog" ng-controller="addUser">
    <div class="modal-dialog">
      <div class="modal-content" style="margin-left: 0px;margin-right: 0px;width:100%;">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Add Teams</h4>
        </div>
        <div class="modal-body">
          <label for="uname"><b>Username</b></label><br>
	    		<input type="text" placeholder="Enter Username" ng-model="user_id" required><br>

	    		<label for="psw"><b>Password</b></label><br>
	    		<input type="password" placeholder="Enter Password" ng-model="user_password" required><br>

          <label for="name"><b>Team Leader's Name</b></label><br>
	    		<input type="text" placeholder="Enter Name of Team Leader" ng-model = "team_leader" required><br>

          <label for="num"><b>Team Members</b></label><br>
	    		<input type="text" placeholder="Enter number of Team Members( including Team Leader )" ng-model="memberNum" required><br>

          <label for="phnum"><b>Phone Number</b></label><br>
	    		<input type="text" placeholder="Enter a WhatsApp number of any TeamMate" ng-model="phoneNum" required><br>
        </div>
        <div class="modal-footer">
          <p>&copy;     All rights reserved by International Society of Automation - VIT Vellore Student Section</p><br>
          <button type="submit" class="button1" ng-click="addTeamNew()">Add Team</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

    <div class="modal fade" id="updateTeamModal" role="dialog" ng-controller='updateUser'>
      <div class="modal-dialog modal-lg">
        <div class="modal-content" style="margin-left: 0px;margin-right: 0px;width: 100%;">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Update Team Details</h4>
          </div>
          <div class="modal-body table-responsive">
              <table class="table table-hover" ng-hide="Update">
                <thead>
                  <th ng-click="sortItem('user_id')">User ID</th>
                  <th ng-click="sortItem('user_pass')">Password</th>
                  <th ng-click="sortItem('team_name')">Team Name</th>
                  <th ng-click="sortItem('money')">Money</th>
                  <th ng-click="sortItem('team_members')">Member Number</th>
                  <th ng-click="sortItem('phone_num')">Phone Number</th>
                  <th></th>
                </thead>
                <tbody>
                  <tr ng-repeat="user in users | orderBy:sortby:reverseSort">
                    <td>{{user.user_id}}</td>
                    <td>{{user.user_pass}}</td>
                    <td>{{user.team_name}}</td>
                    <td>{{user.money}}</td>
                    <td>{{user.team_members}}</td>
                    <td>{{user.phone_num}}</td>
                    <td><button type="button" class="btn btn-info btn-xs buttonAdmin" style="align:center;" ng-click="UpdateTeam(user.user_id,user.team_name,user.money,user.team_members,user.phone_num)">Update Details</button></td>
                  </tr>
                </tbody>
              </table>
              <div ng-show="Update">
                <label><b>User ID</b></label><br>
      	    		<input type="text" name="userid" ng-model="userid" class="form-control" disabled><br>
                <label><b>Team Name</b></label><br>
      	    		<input type="text" name="teamname" ng-model="teamname" class="form-control"><br>
                <label><b>Money</b></label><br>
                <input type="text" name="money" ng-model="money" class="form-control"><br>
                <label><b>Team Members</b></label><br>
      	    		<input type="text" name="teammemb" ng-model="team_members" class="form-control"><br>
                <label><b>Phone Number</b></label><br>
      	    		<input type="text" name="phonenum" ng-model="phonenum" class="form-control"><br>
                <input type="submit" name="btnInsert" class="btn btn-info" ng-click="updateData()">
              </div>
          </div>
          <div class="modal-footer">
            <p>&copy;     All rights reserved by International Society of Automation - VIT Vellore Student Section</p>
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="removeTeamModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content" style="width:85%;">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Remove Team</h4>
        </div>
        <div class="modal-body" ng-controller="removeUser">
          <table class="table table-hover">
            <thead>
              <th>Team Name</th>
              <th>Delete</th>
            </thead>
            <tbody>
              <tr ng-repeat='user in users'>
                <td>{{user.team_name}}</td>
                <td><button type="button" class="btn btn-danger btn-xs buttonAdmin" ng-click=deleteTeam(user.user_id) style="align:center">Remove Team</button></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <p>&copy;     All rights reserved by International Society of Automation - VIT Vellore Student Section</p>
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>
  <tr ng-repeat="user in users">

  <div class="modal fade" id="viewCompModal" role="dialog" ng-controller='viewComp'>
    <div class="modal-dialog modal-lg">
      <div class="modal-content" style="margin-left:auto;margin-right:auto;width:50%;">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">View Components Details</h4>
        </div>
        <div class="modal-body table-responsive">
            <table class="table table-hover">
              <thead>
                <th>Component Name</th>
                <th>Component Cost</th>
              </thead>
              <tbody>
                <tr ng-repeat="comp in components">
                  <td>{{comp.comp_name}}</td>
                  <td>{{comp.cost}}</td>
                </tr>
              </tbody>
            </table>
        </div>
        <div class="modal-footer">
          <p>&copy;     All rights reserved by International Society of Automation - VIT Vellore Student Section</p>
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="addCompModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content" style="width:90%" ng-controller="addComponents">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Add Components</h4>
        </div>
        <div class="modal-body">
          <label for="name"><b>Component's Name</b></label><br>
          <input type="text" placeholder="Enter Name of Component" name="name" required ng-model="compName"><br>
          <label for="uname"><b>Component's Cost</b></label><br>
          <input type="text" placeholder="Enter Component's Cost" name="cost" required ng-model="compCost"><br>
        </div>
        <div class="modal-footer">
          <p>&copy;     All rights reserved by International Society of Automation - VIT Vellore Student Section</p>
          <button type="submit" class="button1" ng-click=addCompNew()>Add Component</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="updateCompModal" role="dialog">
    <div class="modal-dialog modal-lg">
      <div class="modal-content" style="width:90%">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Update Components</h4>
        </div>
        <div class="modal-body" ng-controller="updateComp">
          <div class="modal-body table-responsive">
              <table class="table table-hover" ng-hide="Update">
                <thead>
                  <th ng-click="sortItem('comp_name')">Component Name</th>
                  <th ng-click="sortItem('cost')">Cost</th>
                  <th></th>
                </thead>
                <tbody>
                  <tr ng-repeat="comp in comps | orderBy:sortby:reverseSort">
                    <td>{{comp.comp_name}}</td>
                    <td>{{comp.cost}}</td>
                    <td><button type="button" class="btn btn-info btn-xs buttonAdmin" style="align:center;" ng-click="UpdateComp(comp.comp_name,comp.cost)">Update Details</button></td>
                  </tr>
                </tbody>
              </table>
              <div ng-show="Update">
                <label><b>Component Name</b></label><br>
      	    		<input type="text" name="compname" ng-model="comp_name" class="form-control" disabled><br>
                <label><b>Cost</b></label><br>
      	    		<input type="text" name="cost" ng-model="cost" class="form-control"><br>
                <input type="submit" name="btnInsert" class="btn btn-info" ng-click="updateData()">
              </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>


  <div class="modal fade" id="remCompModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content" style="width:100%;">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Remove Components</h4>
        </div>
        <div class="modal-body" ng-controller="removeComp">
          <table class="table table-hover">
            <thead>
              <th>Team Name</th>
              <th>Delete</th>
            </thead>
            <tbody>
              <tr ng-repeat="comp in components">
                <td>{{comp.comp_name}}</td>
                <td><button type="button" class="btn btn-danger btn-xs buttonAdmin" ng-click=deleteComp(comp.comp_name) style="align:center">Remove Component</button></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <p>&copy;     All rights reserved by International Society of Automation - VIT Vellore Student Section</p>
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

    <div class="modal fade" id="changePassword" role="dialog" ng-controller='chngPswrd'>
      <div class="modal-dialog modal-lg">
        <div class="modal-content" style="margin-left:auto; margin-right:auto; width:65%;">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Change Password</h4>
          </div>
          <div class="modal-body">
            <label for="sel1">Select list (select one):</label>
            <select class="form-control" ng-model="sel1">
              <option ng-repeat="user in  users">{{user.user_id}}</option>
            </select><br><br>
            <label>Add New Password: </label><br>
            <input type="text" placeholder="Enter New Password" ng-model="pass_change">
          </div>
          <div class="modal-footer">
            <p>&copy;     All rights reserved by International Society of Automation - VIT Vellore Student Section</p>
            <input type="submit" name="btnInsert" class="btn btn-info" ng-click="changePass(sel1,pass_change)">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
